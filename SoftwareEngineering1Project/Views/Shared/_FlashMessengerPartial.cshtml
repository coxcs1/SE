@{
    if (TempData["Message"] != null)
    {
        //fetch the message, type and declare a string to hold flash message JavaScript
        string message = TempData["Message"].GetType().GetProperty("Message").GetValue(TempData["Message"]).ToString();
        string type = TempData["Message"].GetType().GetProperty("Type").GetValue(TempData["Message"]).ToString();
        string javaScript = "";

        //if there is a message then display it based on the type that is passed
        if (message != null)
        {
            switch (type)
            {
                case "success":
                    javaScript = "<script type='text/javascript'>toastr.success(\'" + message + "\')</script>";
                    HtmlString displayJavaScriptSuccess = new HtmlString(javaScript);
                    @displayJavaScriptSuccess
                    break;
                case "info":
                    javaScript = "<script type='text/javascript'>toastr.info(\'" + message + "\')</script>";
                    HtmlString displayJavaScriptInfo = new HtmlString(javaScript);
                    @displayJavaScriptInfo
                    break;
                case "error":
                    javaScript = "<script type='text/javascript'>toastr.error(\'" + message + "\')</script>";
                    HtmlString displayJavaScriptError = new HtmlString(javaScript);
                    @displayJavaScriptError
                    break;
                default:
                    javaScript = "<script type='text/javascript'>toastr.info(\'" + message + "\')</script>";
                    HtmlString displayJavaScriptDefault = new HtmlString(javaScript);
                    @displayJavaScriptDefault
                    break;
            }
        }
    }
}